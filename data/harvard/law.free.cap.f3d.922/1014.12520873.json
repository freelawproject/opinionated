{
  "casebody": {
    "status": "ok",
    "data": "<?xml version='1.0' encoding='utf-8'?>\n<casebody firstpage=\"1014\" lastpage=\"1031\" xmlns=\"http://nrs.harvard.edu/urn-3:HLS.Libr.US_Case_Law.Schema.Case_Body:v1\">\n <parties id=\"p-1\">\n  MEDIA RIGHTS TECHNOLOGIES, INC., Plaintiff-Appellant,\n  <br/>\n  v.\n  <br/>\n  MICROSOFT CORPORATION, Defendant-Appellee.\n </parties>\n <docketnumber id=\"p-2\">\n  No. 17-16509\n </docketnumber>\n <court id=\"p-3\">\n  United States Court of Appeals, Ninth Circuit.\n </court>\n <otherdate id=\"p-4\">\n  Argued and Submitted December 17, 2018 San Francisco, California\n  <br/>\n  Filed May 2, 2019\n </otherdate>\n <attorneys id=\"p-5\">\n  Ian N. Feinberg (argued), Elizabeth Day, Marc Belloli, and David Alberti, Feinberg Day Alberti &amp; Thompson LLP, Menlo Park, California, for Plaintiff-Appellant.\n </attorneys>\n <attorneys id=\"p-6\">\n  Jonathan J. Lamberson (argued) and Alana C. Mannig\u00e9, Fish &amp; Richardson P.C., Redwood City, California, for Defendant-Appellee.\n </attorneys>\n <judges id=\"p-7\">\n  Before: Ronald M. Gould and Marsha S. Berzon, Circuit Judges, and Frederic Block,\n  <footnotemark>\n   *\n  </footnotemark>\n  District Judge.\n </judges>\n <footnote label=\"*\">\n  <p id=\"p-97\">\n   The Honorable Frederic Block, United States District Judge for the Eastern District of New York, sitting by designation.\n  </p>\n </footnote>\n <opinion type=\"majority\">\n  <author id=\"p-8\">\n   GOULD, Circuit Judge:\n  </author>\n  <p id=\"p-9\">\n   This case requires that we apply longstanding principles of claim preclusion to a contemporary set of facts. Plaintiff-Appellant Media Rights Technologies, Inc. (\"MRT\") developed a technology in the early 2000s to protect electronic files, such as music files, from content piracy. MRT claims that Defendant-Appellee Microsoft Corporation developed a similar technology following exchanges between the parties and in doing so used information learned from MRT. In 2013, MRT brought a patent infringement suit against Microsoft. After a court in a separate proceeding declared one of the patents at issue invalid, MRT voluntarily dismissed that suit with prejudice.\n  </p>\n  <p id=\"p-10\">\n   But that dismissal did not end the dispute in which the parties were embroiled. MRT then filed this suit against Microsoft, asserting claims for copyright infringement, violation of the Digital Millennium Copyright Act (\"DMCA\"), and breach of contract. The key question before us is whether MRT's first suit for patent infringement precludes this later suit for copyright infringement under the doctrine of claim preclusion even though the current claims have different elements.\n  </p>\n  <p id=\"p-11\">\n   We hold that claim preclusion bars the claims in this suit that had accrued at the time of MRT's patent-infringement action: namely, (1) copyright infringement claims arising from the sale of Microsoft products before MRT filed its patent-infringement suit; (2) the DMCA claim; and (3) the breach of contract claims. These claims all arise from the same events-Microsoft's alleged misappropriation of MRT's software-as the prior patent infringement claims. They merely offer different legal theories for why Microsoft's alleged conduct was wrongful. We affirm the district court's dismissal of these claims.\n  </p>\n  <p id=\"p-12\">\n   However, we hold, under\n   <em>\n    Howard v. City of Coos Bay\n   </em>\n   ,\n   <extracted-citation case-ids=\"12266216\" index=\"0\" url=\"https://cite.case.law/f3d/871/1032/\">\n    871 F.3d 1032\n   </extracted-citation>\n   (9th Cir. 2017), that claim preclusion does not bar MRT from asserting copyright infringement claims that accrued after it filed its patent-infringement suit: namely, claims arising from the sale of Microsoft products after MRT filed its patent-infringement suit. We reverse the district court's dismissal of these copyright infringement claims, and remand for further proceedings.\n  </p>\n  <p id=\"p-13\">\n   <strong>\n    I\n   </strong>\n  </p>\n  <p id=\"p-14\">\n   <strong>\n    A\n   </strong>\n   <footnotemark>\n    1\n   </footnotemark>\n  </p>\n  <p id=\"p-15\">\n   In the early 2000s, MRT's cofounder, Hank Risan, developed a technology that came to be known as the Controlled Data Pathway (\"CDP\"). MRT claims that its CDP technology was the first digital rights management (\"DRM\") technology to prevent various types of content piracy, such as the piracy of music files. For the years thereafter, MRT incorporated that technology into its X1 Recording Control software, BlueBeat SeCure Player, BlueBeat SeCure Player for Windows Media Player, and BlueBeat SeCure Player for Microsoft Vista (collectively, the \"MRT Software\"). MRT holds several patents on its CDP technology (the \"CDP Patents\").\n  </p>\n  <p id=\"p-16\">\n   To help identify any unlawful copying of the MRT Software's source code,\n   <footnotemark>\n    2\n   </footnotemark>\n   MRT inserted a piece of inert code (the \"Watermark\"). The Watermark appears as follows:\n  </p>\n  <blockquote id=\"p-17\">\n   if ( FindWindow((TCHAR *) 32770, szProdName)\n  </blockquote>\n  <blockquote id=\"p-18\">\n   != (HWND) 0)\n  </blockquote>\n  <blockquote id=\"p-19\">\n   {\n  </blockquote>\n  <blockquote id=\"p-20\">\n   /* indicate application found */ nRetVal = 1;\n  </blockquote>\n  <blockquote id=\"p-21\">\n   }\n  </blockquote>\n  <p id=\"p-22\">\n   The Watermark is detectable in object code\n   <footnotemark>\n    3\n   </footnotemark>\n   compiled from any source code containing the Watermark. In other words, if a party copied the portion of the MRT Software's source code that contains the Watermark, MRT could detect such copying by looking for the Watermark in the object code of the other software. Thus, the Watermark served to reveal copying.\n  </p>\n  <p id=\"p-23\">\n   In 2003, the recording and motion picture industries took notice of MRT's X1 Recording Control software and its potential to prevent content piracy. The Recording Institute of America and the Motion Picture Association of America evaluated the software, and, after concluding that it effectively prevented content piracy, recommended to Microsoft that Microsoft implement the X1 Recording Control software in its own products.\n  </p>\n  <p id=\"p-24\">\n   Shortly after, in August 2004, Microsoft's Chief Technology Officer contacted MRT concerning a potential investment from Microsoft. MRT and Microsoft entered a nondisclosure agreement (the \"2004 NDA\") prohibiting Microsoft from, among other things, reverse engineering MRT technology shared under the agreement. MRT, in turn, gave Microsoft information regarding its CDP technology, a copy of MRT software containing the Watermark, and information regarding the CDP Patents. Following evaluation, Microsoft offered to invest $ 50 million in MRT in return for a 51% stake in the company. MRT declined the offer as too low.\n   <footnotemark>\n    4\n   </footnotemark>\n  </p>\n  <p id=\"p-25\">\n   One year later, in 2005, Microsoft began testing its Protected Media Pathway (\"PMP\") software. Like the MRT Software, Microsoft's PMP software is a DRM technology designed to prevent content piracy. MRT alleges that Microsoft had been trying for years to develop its own effective DRM software, but had been unable to do so until MRT provided Microsoft information concerning its CDP technology. MRT contends that Microsoft used the information it learned from MRT to create the PMP software. The PMP software allegedly \"contains a copy and/or derivative work of the MRT software,\" as evidenced by the presence of the Watermark.\n  </p>\n  <p id=\"p-26\">\n   In January 2007, Microsoft released the first commercial version of the Vista operating system, which included Microsoft's PMP software. Since Vista, Microsoft has incorporated its PMP software into other products.\n  </p>\n  <p id=\"p-27\">\n   <strong>\n    B\n   </strong>\n  </p>\n  <p id=\"p-28\">\n   On April 25, 2013, MRT filed its first suit against Microsoft (\"\n   <em>\n    MRT I\n   </em>\n   \"). MRT claimed that Microsoft had built its PMP software-which Microsoft included in Windows Vista, Windows 7, Windows 8, Windows Media Center, and Windows Media Player-using information that MRT had shared with Microsoft. Based on those facts, MRT alleged that the PMP software infringed four CDP Patents. However, the district court stayed the case in January 2014, when a district court in a separate action declared one of the patents at issue invalid.\n   <em>\n    See\n   </em>\n   <em>\n    Media Rights Techs., Inc. v. Capital One Fin. Corp.\n   </em>\n   , No. l:13-cv-476,\n   <extracted-citation index=\"1\" url=\"https://cite.case.law/citations/?q=2013%20WL%206506176\">\n    2013 WL 6506176\n   </extracted-citation>\n   (E.D. Va. Dec. 9, 2013).\n  </p>\n  <p id=\"p-29\">\n   While\n   <em>\n    MRT I\n   </em>\n   was stayed, MRT decided to investigate whether Microsoft had copied the MRT Software's source code. MRT hired a technical expert to do so. In April 2014, MRT's technical expert identified the Watermark in Windows XP Service Pack 3, Windows Vista, Windows 8, Windows 10, Windows Media Player 11, Windows Media Player 12, Windows Media Player SDK, Internet Explorer 8, Internet Explorer 9, Internet Explorer 10, and Internet Explorer 11. The expert identified Microsoft's PMP software as the source of the Watermark in each of these products. Because MRT never provided Microsoft access to the MRT Software's source code, the expert concluded that the Watermark was present as a result of Microsoft reverse engineering that source code and copying it in Microsoft's PMP software.\n  </p>\n  <p id=\"p-30\">\n   On September 4, 2015, the Federal Circuit affirmed the district court decision invalidating one of the CDP Patents at issue in\n   <em>\n    MRT I\n   </em>\n   , holding that the claims in the patent were indefinite.\n   <em>\n    Media Rights Techs., Inc. v. Capital One Fin. Corp.\n   </em>\n   ,\n   <extracted-citation case-ids=\"4340924\" index=\"2\" url=\"https://cite.case.law/f3d/800/1366/#p1375\">\n    800 F.3d 1366\n   </extracted-citation>\n   , 1375 (Fed. Cir. 2015). In April 2016, MRT voluntarily dismissed\n   <em>\n    MRT I\n   </em>\n   with prejudice.\n  </p>\n  <p id=\"p-31\">\n   <strong>\n    C\n   </strong>\n  </p>\n  <p id=\"p-32\">\n   MRT filed this action (\"\n   <em>\n    MRT II\n   </em>\n   \") one year later. MRT claims that Microsoft's PMP software \"contains a copy of and/or is a derivative work of\" the MRT Software and thus infringes MRT's copyrights. MRT also alleges that Microsoft violated the DMCA by circumventing measures in the MRT Software meant to prevent reverse engineering and copying. Finally, MRT claims that Microsoft violated the 2004 NDA and MRT's End User License Agreement (\"EULA\")-which Microsoft allegedly agreed to when it used the MRT\n  </p>\n  <p id=\"p-33\">\n   Software-by reverse engineering and copying the MRT Software's source code.\n  </p>\n  <p id=\"p-34\">\n   The district court dismissed MRT's complaint on the basis of claim preclusion.\n   <em>\n    See\n   </em>\n   <em>\n    Media Rights Techs. v. Microsoft Corp.\n   </em>\n   , Case No. 17-cv-01925-SK,\n   <extracted-citation index=\"3\" url=\"https://cite.case.law/citations/?q=2017%20WL%204685702\">\n    2017 WL 4685702\n   </extracted-citation>\n   (N.D. Cal. July 20, 2017).\n   <footnotemark>\n    5\n   </footnotemark>\n   It reasoned that\n   <em>\n    MRT I\n   </em>\n   and\n   <em>\n    MRT II\n   </em>\n   arose from the same nucleus of facts, the suits would share much of the same evidence, allowing\n   <em>\n    MRT II\n   </em>\n   to proceed could impair rights established by\n   <em>\n    MRT I\n   </em>\n   , and both\n   <em>\n    MRT I\n   </em>\n   and\n   <em>\n    MRT II\n   </em>\n   concerned intellectual property rights in the MRT Software.\n   <em>\n    Id.\n   </em>\n   at 5-7. The district court entered judgment for Microsoft.\n  </p>\n  <p id=\"p-35\">\n   <strong>\n    II\n   </strong>\n  </p>\n  <p id=\"p-36\">\n   MRT appeals the district court's dismissal of its claims. We review de novo whether claim preclusion bars MRT's claims in this action.\n   <em>\n    Harris v. Cty. of Orange\n   </em>\n   ,\n   <extracted-citation case-ids=\"3891442\" index=\"4\" url=\"https://cite.case.law/f3d/682/1126/#p1131\">\n    682 F.3d 1126\n   </extracted-citation>\n   , 1131 (9th Cir. 2012).\n  </p>\n  <p id=\"p-37\">\n   <strong>\n    III\n   </strong>\n  </p>\n  <p id=\"p-38\">\n   The related doctrines of claim and issue preclusion, by \"preclud[ing] parties from contesting matters that they have had a full and fair opportunity to litigate,\" \"protect against 'the expense and vexation attending multiple lawsuits, conserv[e] judicial resources, and foste[r] reliance on judicial action by minimizing the possibility of inconsistent decisions.' \"\n   <em>\n    Taylor v. Sturgell\n   </em>\n   ,\n   <extracted-citation case-ids=\"3674228\" index=\"5\" url=\"https://cite.case.law/us/553/880/#p892\">\n    553 U.S. 880\n   </extracted-citation>\n   , 892,\n   <extracted-citation case-ids=\"3674228\" index=\"6\" url=\"https://cite.case.law/us/553/880/#p892\">\n    128 S.Ct. 2161\n   </extracted-citation>\n   ,\n   <extracted-citation case-ids=\"3674228\" index=\"7\" url=\"https://cite.case.law/us/553/880/#p892\">\n    171 L.Ed.2d 155\n   </extracted-citation>\n   (2008) (alterations in original) (quoting\n   <em>\n    Montana v. United States\n   </em>\n   ,\n   <extracted-citation case-ids=\"6180409\" index=\"8\" url=\"https://cite.case.law/us/440/147/#p153\">\n    440 U.S. 147\n   </extracted-citation>\n   , 153-54,\n   <extracted-citation case-ids=\"6180409\" index=\"9\" url=\"https://cite.case.law/us/440/147/#p153\">\n    99 S.Ct. 970\n   </extracted-citation>\n   ,\n   <extracted-citation case-ids=\"6180409\" index=\"10\" url=\"https://cite.case.law/us/440/147/#p153\">\n    59 L.Ed.2d 210\n   </extracted-citation>\n   (1979) );\n   <em>\n    see also\n   </em>\n   <em>\n    Amadeo v. Principal Mut. Life Ins. Co.\n   </em>\n   ,\n   <extracted-citation case-ids=\"9436173\" index=\"11\" url=\"https://cite.case.law/f3d/290/1152/#p1160\">\n    290 F.3d 1152\n   </extracted-citation>\n   , 1160 (9th Cir. 2002) (\"Preclusion doctrine is intended to promote judicial efficiency and the finality of judgments by requiring that all related claims be brought together or forfeited (claim preclusion) and by prohibiting any party from litigating an issue that has been fully litigated previously (issue preclusion).\"). Claim preclusion bars a party in successive litigation from pursuing claims that \"were raised or could have been raised in [a] prior action.\"\n   <em>\n    Owens v. Kaiser Found. Health Plan, Inc.\n   </em>\n   ,\n   <extracted-citation case-ids=\"11120106\" index=\"12\" url=\"https://cite.case.law/f3d/244/708/#p713\">\n    244 F.3d 708\n   </extracted-citation>\n   , 713 (9th Cir. 2001) (quoting\n   <em>\n    Western Radio Servs. Co. v. Glickman\n   </em>\n   ,\n   <extracted-citation case-ids=\"12012290\" index=\"13\" url=\"https://cite.case.law/f3d/123/1189/#p1192\">\n    123 F.3d 1189\n   </extracted-citation>\n   , 1192 (9th Cir. 1997) );\n   <em>\n    see also\n   </em>\n   <em>\n    Tahoe-Sierra Pres. Council, Inc. v. Tahoe Reg'l Planning Agency\n   </em>\n   ,\n   <extracted-citation case-ids=\"9372385\" index=\"14\" url=\"https://cite.case.law/f3d/322/1064/#p1077\">\n    322 F.3d 1064\n   </extracted-citation>\n   , 1077-78 (9th Cir. 2003) (claim preclusion \"bars relitigation of all grounds of recovery that were asserted, or could have been asserted, in a previous action.... It is immaterial whether the claims asserted subsequent to the judgment were actually pursued in the action that led to the judgment; rather, the relevant inquiry is whether they could have been brought\" (quoting\n   <em>\n    United States ex rel. Barajas v. Northrop Corp.\n   </em>\n   ,\n   <extracted-citation case-ids=\"1358808\" index=\"15\" url=\"https://cite.case.law/f3d/147/905/#p909\">\n    147 F.3d 905\n   </extracted-citation>\n   , 909 (9th Cir. 1998) ). \"Issue preclusion, in contrast, bars 'successive litigation of an issue of fact or law actually litigated and resolved in a valid court determination essential to the prior judgment....' \"\n   <em>\n    Taylor\n   </em>\n   ,\n   <extracted-citation case-ids=\"3674228\" index=\"16\" url=\"https://cite.case.law/us/553/880/#p892\">\n    553 U.S. at 892\n   </extracted-citation>\n   ,\n   <extracted-citation case-ids=\"3674228\" index=\"17\" url=\"https://cite.case.law/us/553/880/#p892\">\n    128 S.Ct. 2161\n   </extracted-citation>\n   (quoting\n   <em>\n    New Hampshire v. Maine\n   </em>\n   ,\n   <extracted-citation case-ids=\"9302102\" index=\"18\" url=\"https://cite.case.law/us/532/742/#p748\">\n    532 U.S. 742\n   </extracted-citation>\n   , 748-49,\n   <extracted-citation case-ids=\"9302102\" index=\"19\" url=\"https://cite.case.law/us/532/742/#p748\">\n    121 S.Ct. 1808\n   </extracted-citation>\n   ,\n   <extracted-citation case-ids=\"9302102\" index=\"20\" url=\"https://cite.case.law/us/532/742/#p748\">\n    149 L.Ed.2d 968\n   </extracted-citation>\n   (2001) );\n   <em>\n    see also\n   </em>\n   <em>\n    Af-Cap, Inc. v. Chevron Overseas (Congo) Ltd.\n   </em>\n   ,\n   <extracted-citation case-ids=\"3753931\" index=\"21\" url=\"https://cite.case.law/f3d/475/1080/#p1086\">\n    475 F.3d 1080\n   </extracted-citation>\n   , 1086 (9th Cir. 2007).\n  </p>\n  <p id=\"p-39\">\n   This case involves claim preclusion. If\n   <em>\n    MRT I\n   </em>\n   \"(1) involved the same\n   'claim' or cause of action as [\n   <em>\n    MRT II\n   </em>\n   ], (2) reached a final judgment on the merits, and (3) involved identical parties or privies,\" then claim preclusion bars MRT's current claims.\n   <em>\n    Mpoyo v. Litton Electro-Optical Sys.\n   </em>\n   ,\n   <extracted-citation case-ids=\"1594157\" index=\"22\" url=\"https://cite.case.law/f3d/430/985/#p987\">\n    430 F.3d 985\n   </extracted-citation>\n   , 987 (9th Cir. 2005) (quoting\n   <em>\n    Sidhu v. Flecto Co.\n   </em>\n   ,\n   <extracted-citation case-ids=\"9397888\" index=\"23\" url=\"https://cite.case.law/f3d/279/896/#p900\">\n    279 F.3d 896\n   </extracted-citation>\n   , 900 (9th Cir. 2002) ).\n   <footnotemark>\n    6\n   </footnotemark>\n   It is Microsoft's burden to establish that preclusion applies.\n   <em>\n    Taylor\n   </em>\n   ,\n   <extracted-citation case-ids=\"3674228\" index=\"24\" url=\"https://cite.case.law/us/553/880/#p892\">\n    553 U.S. at 906-07\n   </extracted-citation>\n   ,\n   <extracted-citation case-ids=\"3674228\" index=\"25\" url=\"https://cite.case.law/us/553/880/#p892\">\n    128 S.Ct. 2161\n   </extracted-citation>\n   .\n  </p>\n  <p id=\"p-40\">\n   The parties do not dispute that MRT's voluntary dismissal of\n   <em>\n    MRT I\n   </em>\n   with prejudice is a final judgment on the merits, nor do they dispute that both MRT and Microsoft were and are parties to\n   <em>\n    MRT I\n   </em>\n   and\n   <em>\n    MRT II\n   </em>\n   . The parties disagree (1) whether MRT could have raised its current claims in\n   <em>\n    MRT I\n   </em>\n   (on the theory they did not accrue until after commencement of that action) and (2) whether\n   <em>\n    MRT I\n   </em>\n   and\n   <em>\n    MRT II\n   </em>\n   involve \"the same 'claim' or cause of action\" for purposes of preclusion.\n   <em>\n    Mpoyo\n   </em>\n   ,\n   <extracted-citation case-ids=\"1594157\" index=\"26\" url=\"https://cite.case.law/f3d/430/985/#p987\">\n    430 F.3d at 987\n   </extracted-citation>\n   . We address each issue in turn.\n  </p>\n  <p id=\"p-41\">\n   <strong>\n    IV\n   </strong>\n  </p>\n  <p id=\"p-42\">\n   MRT contends that claim preclusion does not bar any of its current claims because each accrued after MRT filed the operative complaint in\n   <em>\n    MRT I\n   </em>\n   .\n   <footnotemark>\n    7\n   </footnotemark>\n   The rule in this circuit, and others, is that \"claim preclusion does not apply to claims that accrue after the filing of the operative complaint\" in the first suit.\n   <em>\n    Howard\n   </em>\n   ,\n   <extracted-citation case-ids=\"12266216\" index=\"27\" url=\"https://cite.case.law/f3d/871/1032/\">\n    871 F.3d at 1039-40\n   </extracted-citation>\n   (collecting cases).\n  </p>\n  <p id=\"p-43\">\n   Although\n   <em>\n    Howard\n   </em>\n   did not explain or define \"accrue\"-and the parties disputed its meaning at oral argument-we read\n   <em>\n    Howard\n   </em>\n   to use \"accrue\" to mean to \"come into existence\" or \"arise.\"\n   <em>\n    Accrue\n   </em>\n   , Black's Law Dictionary (10th ed. 2014). In other words, we read\n   <em>\n    Howard\n   </em>\n   to hold that claim preclusion does not apply to claims that were not in existence and could not have been sued upon-\n   <em>\n    i.e.\n   </em>\n   , were not legally cognizable-when the allegedly preclusive action was initiated.\n   <em>\n    See\n   </em>\n   <em>\n    Howard\n   </em>\n   ,\n   <extracted-citation case-ids=\"12266216\" index=\"28\" url=\"https://cite.case.law/f3d/871/1032/\">\n    871 F.3d at 1040\n   </extracted-citation>\n   (\"Howard's retaliation claims in this suit arose from events that occurred after she filed her complaint in\n   <em>\n    Howard I\n   </em>\n   , and they are not barred by claim preclusion.\"). That reading is consistent with our pre-\n   <em>\n    Howard\n   </em>\n   decisions.\n   <em>\n    See, e.g.\n   </em>\n   ,\n   <em>\n    Frank v. United Airlines, Inc.\n   </em>\n   ,\n   <extracted-citation case-ids=\"11216044\" index=\"29\" url=\"https://cite.case.law/f3d/216/845/#p851\">\n    216 F.3d 845\n   </extracted-citation>\n   , 851 (9th Cir. 2000) (\"A claim arising after the date of an earlier judgment is not barred, even if it arises out of a continuing course of conduct that provided the basis for the earlier claim.\"). It is also consistent with Supreme Court authority and authority from our sister circuits.\n   <em>\n    See\n   </em>\n   <em>\n    Lawlor v. Nat'l Screen Serv. Corp.\n   </em>\n   ,\n   <extracted-citation case-ids=\"11335007\" index=\"30\" url=\"https://cite.case.law/us/349/322/#p328\">\n    349 U.S. 322\n   </extracted-citation>\n   , 328,\n   <extracted-citation case-ids=\"11335007\" index=\"31\" url=\"https://cite.case.law/us/349/322/#p328\">\n    75 S.Ct. 865\n   </extracted-citation>\n   ,\n   <extracted-citation index=\"32\" url=\"https://cite.case.law/citations/?q=99%20L.%20Ed.%201122\">\n    99 L.Ed. 1122\n   </extracted-citation>\n   (1955) (a prior judgment \"cannot be given the effect of extinguishing claims which did not even\n   then exist and which could not possibly have been sued upon in the previous case\");\n   <em>\n    TechnoMarine SA v. Giftports, Inc.\n   </em>\n   ,\n   <extracted-citation case-ids=\"4158655\" index=\"33\" url=\"https://cite.case.law/f3d/758/493/#p502\">\n    758 F.3d 493\n   </extracted-citation>\n   , 502 (2d Cir. 2014) (\"TechnoMarine's trademark infringement claim is not barred by claim preclusion because Giftports allegedly committed new instances of trademark infringement after the settlement, so that the present claim, to the extent based on the new acts of infringement, was not and could not have been litigated in the earlier proceeding.\");\n   <em>\n    Aspex Eyewear, Inc. v. Marchon Eyewear, Inc.\n   </em>\n   ,\n   <extracted-citation case-ids=\"3737192\" index=\"34\" url=\"https://cite.case.law/f3d/672/1335/#p1342\">\n    672 F.3d 1335\n   </extracted-citation>\n   , 1342 (Fed. Cir. 2012) (\"We hold that res judicata does not bar Aspex's lawsuit with respect to accused products that were not in existence at the time of the California Actions for the simple reason that res judicata requires that in order for a particular claim to be barred, it is necessary that the claim either was asserted, or could have been asserted, in the prior action. If the claim did not exist at the time of the earlier action, it could not have been asserted in that action and is not barred by res judicata.\");\n   <em>\n    Stanton v. D.C. Court of Appeals\n   </em>\n   ,\n   <extracted-citation case-ids=\"3708296,1000625\" index=\"35\" url=\"https://cite.case.law/f3d/127/72/\">\n    127 F.3d 72\n   </extracted-citation>\n   , 78 (D.C. Cir. 1997) (\"Federal law is clear that post-judgment events give rise to new claims, so that claim preclusion is no bar.\" (emphasis omitted));\n   <em>\n    Alexander &amp; Alexander, Inc. v. Van Impe\n   </em>\n   ,\n   <extracted-citation case-ids=\"1560513\" index=\"36\" url=\"https://cite.case.law/f2d/787/163/#p166\">\n    787 F.2d 163\n   </extracted-citation>\n   , 166 (3d Cir. 1986) (\"\n   <em>\n    Res judicata\n   </em>\n   applies, however, only to claims arising\n   <em>\n    prior\n   </em>\n   to the entry of judgment. It does not bar claims arising\n   <em>\n    subsequent\n   </em>\n   to the entry of judgment and which did not then exist or could not have been sued upon in the prior action.\" (emphasis in original)),\n   <em>\n    as amended\n   </em>\n   (May 20, 1986); 18 Charles Alan Wright et al.,\n   <em>\n    Federal Practice &amp; Procedure\n   </em>\n   \u00a7 4409 (3d ed. 2018 update) (\"A substantially single course of activity may continue through the life of a first suit and beyond. The basic claim-preclusion result is clear: a new claim or cause of action is created as the conduct continues.\").\n   <footnotemark>\n    8\n   </footnotemark>\n  </p>\n  <p id=\"p-44\">\n   Thus, the question before us is whether MRT's current claims accrued-\n   <em>\n    i.e.\n   </em>\n   , \"c[a]me into existence\" or \"ar[o]se,\"\n   <em>\n    Accrue\n   </em>\n   , Black's Law Dictionary (10th ed. 2014)-and could have been sued upon before MRT filed\n   <em>\n    MRT I\n   </em>\n   . If any of MRT's claims had accrued in that sense, then so long as the other requirements of claim preclusion are met, MRT is barred from asserting those claims here. If any claims had not accrued, claim preclusion does not apply. We discuss MRT's copyright infringement, DMCA, and breach of contract claims in turn.\n  </p>\n  <p id=\"p-45\">\n   <strong>\n    A\n   </strong>\n  </p>\n  <p id=\"p-46\">\n   Copyright infringement claims must be \"commenced within three years after the claim accrued.\"\n   <extracted-citation index=\"37\" url=\"https://cite.case.law/citations/?q=17%20U.S.C.%20%C2%A7%20507\">\n    17 U.S.C. \u00a7 507\n   </extracted-citation>\n   (b). Under the \"discovery rule,\" a copyright infringement claim accrues-and the statute of limitations begins to run-when a party discovers, or reasonably should have discovered, the alleged infringement.\n   <em>\n    Polar Bear Prods., Inc. v. Timex Corp.\n   </em>\n   ,\n   <extracted-citation case-ids=\"9183376\" index=\"38\" url=\"https://cite.case.law/f3d/384/700/#p706\">\n    384 F.3d 700\n   </extracted-citation>\n   , 706 (9th Cir. 2004),\n   <em>\n    as amended on denial of reh'g &amp; reh'g en banc\n   </em>\n   (Oct. 25, 2004);\n   <em>\n    see also\n   </em>\n   <em>\n    Psihoyos v. John Wiley &amp; Sons, Inc.\n   </em>\n   ,\n   <extracted-citation case-ids=\"5886814\" index=\"39\" url=\"https://cite.case.law/f3d/748/120/#p124\">\n    748 F.3d 120\n   </extracted-citation>\n   , 124 (2d Cir. 2014) ;\n   <em>\n    William A. Graham Co. v. Haughey\n   </em>\n   ,\n   <extracted-citation case-ids=\"3655243\" index=\"40\" url=\"https://cite.case.law/f3d/568/425/#p433\">\n    568 F.3d 425\n   </extracted-citation>\n   , 433-37 (3d Cir. 2009) ;\n   <em>\n    Gaiman v. McFarlane\n   </em>\n   ,\n   <extracted-citation case-ids=\"2164121\" index=\"41\" url=\"https://cite.case.law/f3d/360/644/#p653\">\n    360 F.3d 644\n   </extracted-citation>\n   , 653 (7th Cir. 2004). Under the discovery rule and\n   <em>\n    Howard\n   </em>\n   , claim preclusion cannot apply to copyright infringement claims that MRT did not know about, nor had reason to know about,\n   when it filed\n   <em>\n    MRT I\n   </em>\n   .\n   <em>\n    See\n   </em>\n   <em>\n    Howard\n   </em>\n   ,\n   <extracted-citation case-ids=\"12266216\" index=\"42\" url=\"https://cite.case.law/f3d/871/1032/\">\n    871 F.3d at 1039-40\n   </extracted-citation>\n   .\n  </p>\n  <p id=\"p-47\">\n   In addition to the discovery rule, the \"separate-accrual rule\" in copyright law provides that \"when a defendant commits successive violations [of the Copyright Act], the statute of limitations runs separately from each violation. Each time an infringing work is reproduced or distributed, the infringer commits a new wrong. Each wrong gives rise to a discrete 'claim' that 'accrue[s]' at the time the wrong occurs.\"\n   <em>\n    Petrella v. Metro-Goldwyn-Mayer, Inc.\n   </em>\n   ,\n   <extracted-citation case-ids=\"12707003\" index=\"43\" url=\"https://cite.case.law/us/572/663/#p671\">\n    572 U.S. 663\n   </extracted-citation>\n   , 671,\n   <extracted-citation case-ids=\"12707003,12580871\" index=\"44\" url=\"https://cite.case.law/s-ct/134/1962/\">\n    134 S.Ct. 1962\n   </extracted-citation>\n   ,\n   <extracted-citation case-ids=\"12707003,12580871\" index=\"45\" url=\"https://cite.case.law/s-ct/134/1962/\">\n    188 L.Ed.2d 979\n   </extracted-citation>\n   (2014) (footnotes omitted). For purposes of claim preclusion, the separate-accrual rule means that a new cause of action for copyright infringement accrued each time Microsoft sold an allegedly infringing product.\n  </p>\n  <p id=\"p-48\">\n   <strong>\n    1\n   </strong>\n  </p>\n  <p id=\"p-49\">\n   MRT's claim for copyright infringement alleges that Microsoft \"had distributed at least five billion (5,000,000,000) copies\" of allegedly infringing products as of the filing of the complaint on April 6, 2017. Any sales before April 25, 2013-the date MRT filed its complaint in\n   <em>\n    MRT I\n   </em>\n   -gave rise to a cause of action for copyright infringement if MRT knew, or reasonably should have known, that Microsoft had copied the MRT Software and the sales therefore constituted copyright infringement.\n   <em>\n    Polar Bear Prods.\n   </em>\n   ,\n   <extracted-citation case-ids=\"9183376\" index=\"46\" url=\"https://cite.case.law/f3d/384/700/#p706\">\n    384 F.3d at 706\n   </extracted-citation>\n   .\n  </p>\n  <p id=\"p-50\">\n   MRT alleges in its complaint that it did not discover Microsoft's alleged copying until April 12, 2014, after MRT filed\n   <em>\n    MRT I\n   </em>\n   . Taking that allegation as true,\n   <em>\n    see\n   </em>\n   <em>\n    Bell Atl. Corp. v. Twombly\n   </em>\n   ,\n   <extracted-citation case-ids=\"3556136\" index=\"47\" url=\"https://cite.case.law/us/550/544/#p556\">\n    550 U.S. 544\n   </extracted-citation>\n   , 556,\n   <extracted-citation case-ids=\"3556136\" index=\"48\" url=\"https://cite.case.law/us/550/544/#p556\">\n    127 S.Ct. 1955\n   </extracted-citation>\n   ,\n   <extracted-citation case-ids=\"3556136\" index=\"49\" url=\"https://cite.case.law/us/550/544/#p556\">\n    167 L.Ed.2d 929\n   </extracted-citation>\n   (2007), MRT nonetheless could reasonably have discovered Microsoft's alleged copying before filing\n   <em>\n    MRT I\n   </em>\n   . MRT alleges that it had shared its copyrighted software with Microsoft in August 2004. MRT further alleges that Microsoft had been unable to develop effective DRM technology up to that point. Despite its alleged struggles, Microsoft was able to begin testing new DRM technology-the PMP software-roughly one year later, in September 2005. Microsoft then incorporated an effective version of the PMP software into various of its products beginning in January 2007. Microsoft's PMP software contained the Watermark, which MRT specifically meant to be detectable. When MRT filed\n   <em>\n    MRT I\n   </em>\n   six years later, MRT claimed that Microsoft used \"information it learned from MRT, including information relating to the Controlled Data Pathway technology,\" to design its PMP software.\n  </p>\n  <p id=\"p-51\">\n   Given (1) the temporal proximity between MRT's and Microsoft's interactions and Microsoft's development of its first effective DRM technology; (2) MRT's apparent belief at the time it filed\n   <em>\n    MRT I\n   </em>\n   that Microsoft used information learned from MRT to create software that did the same thing as the MRT Software; and (3) MRT's insertion of the Watermark, which it specifically inserted to detect copying, MRT was on notice-at least by the time it filed\n   <em>\n    MRT I\n   </em>\n   -that Microsoft may have copied the MRT Software. MRT could have investigated and detected the copying.\n   <footnotemark>\n    9\n   </footnotemark>\n  </p>\n  <p id=\"p-52\">\n   Because MRT could reasonably have discovered Microsoft's alleged copying before filing\n   <em>\n    MRT I\n   </em>\n   , copyright infringement claims based on the sale of Microsoft products before that filing had\n   accrued and MRT could have pursued them (if timely).\n   <em>\n    See\n   </em>\n   <em>\n    Polar Bear Prods.\n   </em>\n   ,\n   <extracted-citation case-ids=\"9183376\" index=\"50\" url=\"https://cite.case.law/f3d/384/700/#p706\">\n    384 F.3d at\n   </extracted-citation>\n   706 ;\n   <em>\n    see also\n   </em>\n   <em>\n    Pincay v. Andrews\n   </em>\n   ,\n   <extracted-citation case-ids=\"11147153\" index=\"51\" url=\"https://cite.case.law/f3d/238/1106/#p1109\">\n    238 F.3d 1106\n   </extracted-citation>\n   , 1109-10 (9th Cir. 2001) (\"The plaintiff is deemed to have had constructive knowledge if it had enough information to warrant an investigation which, if reasonably diligent, would have led to discovery of the [claim].\" (citation omitted)). Those claims (the \"pre-filing copyright infringement claims\") are precluded if the other requirements of claim preclusion are met,\n   <em>\n    Howard\n   </em>\n   ,\n   <extracted-citation case-ids=\"12266216\" index=\"52\" url=\"https://cite.case.law/f3d/871/1032/\">\n    871 F.3d at 1039-40\n   </extracted-citation>\n   , a point we discuss below in Section V.A.\n  </p>\n  <p id=\"p-53\">\n   <strong>\n    2\n   </strong>\n  </p>\n  <p id=\"p-54\">\n   By contrast, under the separate-accrual rule, any sales of allegedly infringing Microsoft products after April 25, 2013, gave rise to a cause of action (the \"post-filing copyright infringement claims\") as of the date of the sale-\n   <em>\n    i.e.\n   </em>\n   , at some point after April 25, 2013.\n   <em>\n    See\n   </em>\n   <em>\n    Petrella\n   </em>\n   ,\n   <extracted-citation case-ids=\"12707003\" index=\"53\" url=\"https://cite.case.law/us/572/663/#p671\">\n    572 U.S. at 671\n   </extracted-citation>\n   ,\n   <extracted-citation case-ids=\"12707003,12580871\" index=\"54\" url=\"https://cite.case.law/s-ct/134/1962/\">\n    134 S.Ct. 1962\n   </extracted-citation>\n   . Because those claims arose after MRT filed the operative complaint in\n   <em>\n    MRT I\n   </em>\n   and MRT could not have sued on them when it filed\n   <em>\n    MRT I\n   </em>\n   , they are not precluded here.\n   <em>\n    See\n   </em>\n   <em>\n    Howard\n   </em>\n   ,\n   <extracted-citation case-ids=\"12266216\" index=\"55\" url=\"https://cite.case.law/f3d/871/1032/\">\n    871 F.3d at 1039-40\n   </extracted-citation>\n   . The leading treatise on civil procedure agrees: \"Events that are related in origin and nature may nonetheless involve such clear separations or discontinuities as to create separate causes of action without room for dispute. The easiest circumstances occur when the second action draws on facts or seeks remedies that simply could not have been asserted in the first action.\" 18 Wright et al.,\n   <em>\n    Federal Practice and Procedure\n   </em>\n   \u00a7 4409 (footnotes omitted).\n  </p>\n  <p id=\"p-55\">\n   Microsoft advances two main theories as to why the post-filing copyright infringement claims should be precluded. First, Microsoft-relying on\n   <em>\n    Turtle Island Restoration Network v. U.S. Department of State\n   </em>\n   ,\n   <extracted-citation case-ids=\"3742621\" index=\"56\" url=\"https://cite.case.law/f3d/673/914/\">\n    673 F.3d 914\n   </extracted-citation>\n   (9th Cir. 2012) -contends that claim preclusion bars such claims because \"one cannot evade claim preclusion by relying on events that occurred after judgment when the plaintiff knew of nearly identical events that occurred\n   <em>\n    before\n   </em>\n   judgment and did nothing.\"\n   <em>\n    Turtle Island\n   </em>\n   is inapposite. We held in\n   <em>\n    Turtle Island\n   </em>\n   that claim preclusion applied-despite the plaintiff citing evidence in a successive suit that was unavailable in the prior suit-because that evidence was merely an \"example\" used to bolster claims that the plaintiff raised in the first action.\n   <em>\n    <extracted-citation case-ids=\"3742621\" index=\"57\" url=\"https://cite.case.law/f3d/673/914/\">\n     Id.\n    </extracted-citation>\n   </em>\n   <extracted-citation case-ids=\"3742621\" index=\"57\" url=\"https://cite.case.law/f3d/673/914/\">\n    at 918-19\n   </extracted-citation>\n   . Unlike here, where the separate-accrual rule applies, the new events in\n   <em>\n    Turtle Island\n   </em>\n   did not establish an independent cause of action.\n   <em>\n    Cf.\n   </em>\n   <em>\n    Frank\n   </em>\n   ,\n   <extracted-citation case-ids=\"11216044\" index=\"58\" url=\"https://cite.case.law/f3d/216/845/#p851\">\n    216 F.3d at 851\n   </extracted-citation>\n   (\"A claim arising after the date of an earlier judgment is not barred, even if it arises out of a continuing course of conduct that provided the basis for the earlier claim.\").\n  </p>\n  <p id=\"p-56\">\n   Taken to its logical conclusion, Microsoft's proposed rule \"violates basic claim preclusion principles.\"\n   <em>\n    TechnoMarine\n   </em>\n   ,\n   <extracted-citation case-ids=\"4158655\" index=\"59\" url=\"https://cite.case.law/f3d/758/493/#p502\">\n    758 F.3d at 503\n   </extracted-citation>\n   . Suppose that MRT had asserted a claim for copyright infringement in\n   <em>\n    MRT I\n   </em>\n   , contending (as it does here) that Microsoft copied the MRT Software, after interactions between the parties, to create Microsoft's PMP software. Suppose further that MRT sought damages based on sales of Microsoft products with the PMP software, but that MRT either did not request injunctive relief or the court did not grant it. Finally, suppose that a jury found that Microsoft infringed one of MRT's copyrights and awarded MRT damages. Under Microsoft's logic, if Microsoft sold a product with the infringing PMP software two years later and MRT then brought an infringement action, claim preclusion would bar that action because \"nearly identical events\" gave rise to the two suits: Microsoft copied the MRT Software to create its PMP software and then sold products containing that software. \"The earlier judgment against [Microsoft]\n  </p>\n  <p id=\"p-57\">\n   ... would in effect immunize [Microsoft] against all suits concerning infringements of the same [copyright] in a similar way. This is not the law of claim preclusion.\"\n   <em>\n    <extracted-citation case-ids=\"4158655\" index=\"60\" url=\"https://cite.case.law/f3d/758/493/#p502\">\n     Id.\n    </extracted-citation>\n   </em>\n   ;\n   <em>\n    see also\n   </em>\n   <em>\n    Smith v. Potter\n   </em>\n   ,\n   <extracted-citation case-ids=\"3165153\" index=\"61\" url=\"https://cite.case.law/f3d/513/781/#p783\">\n    513 F.3d 781\n   </extracted-citation>\n   , 783 (7th Cir. 2008) (\"The filing of a suit does not entitle the defendant to continue or repeat the unlawful conduct with immunity from further suit.\").\n  </p>\n  <p id=\"p-58\">\n   Second, Microsoft contends that claim preclusion bars the post-filing copyright infringement claims because MRT sought prospective relief in\n   <em>\n    MRT I\n   </em>\n   (either an injunction or ongoing royalties) and therefore brought \"future-sold products into\"\n   <em>\n    MRT I\n   </em>\n   . The Supreme Court's decision in\n   <em>\n    Lawlor\n   </em>\n   forecloses that argument.\n   <extracted-citation case-ids=\"11335007\" index=\"62\" url=\"https://cite.case.law/us/349/322/#p328\">\n    349 U.S. at 328-29\n   </extracted-citation>\n   ,\n   <extracted-citation case-ids=\"11335007\" index=\"63\" url=\"https://cite.case.law/us/349/322/#p328\">\n    75 S.Ct. 865\n   </extracted-citation>\n   (claim preclusion did not apply, notwithstanding \"that the [first] complaint sought, in addition to treble damages, injunctive relief which, if granted, would have prevented the illegal acts now complained of. A combination of facts constituting two or more causes of action on the law side of a court does not congeal into a single cause of action merely because equitable relief is also sought.\");\n   <em>\n    see also\n   </em>\n   <em>\n    Marcel Fashions Grp. Inc. v. Lucky Brand Dungarees, Inc.\n   </em>\n   ,\n   <extracted-citation case-ids=\"4011827\" index=\"64\" url=\"https://cite.case.law/f3d/779/102/#p109\">\n    779 F.3d 102\n   </extracted-citation>\n   , 109-10 (2d Cir. 2015) (declining to apply preclusion where a party requested injunctive relief in an earlier suit);\n   <em>\n    TechnoMarine\n   </em>\n   ,\n   <extracted-citation case-ids=\"4158655\" index=\"65\" url=\"https://cite.case.law/f3d/758/493/#p502\">\n    758 F.3d at 504\n   </extracted-citation>\n   (declining to apply claim preclusion where the plaintiff had unsuccessfully sought an injunction in the prior action);\n   <em>\n    Smith\n   </em>\n   ,\n   <extracted-citation case-ids=\"3165153\" index=\"66\" url=\"https://cite.case.law/f3d/513/781/#p783\">\n    513 F.3d at 784\n   </extracted-citation>\n   (\"Nor is the government right to argue that the plaintiff's second suit should be barred because she sought injunctive relief in her first suit and had it been granted the additional misconduct alleged in the second suit would have been prevented.\").\n  </p>\n  <p id=\"p-59\">\n   We stress that our analysis does not mean that courts will be forced to continually relitigate copyright infringement claims. Issue preclusion \"bars successive litigation of an issue of fact or law\"-such as copyright infringement-\"actually litigated and resolved in a valid court determination essential to the prior judgment ....\"\n   <em>\n    Taylor\n   </em>\n   ,\n   <extracted-citation case-ids=\"3674228\" index=\"67\" url=\"https://cite.case.law/us/553/880/#p892\">\n    553 U.S. at 892\n   </extracted-citation>\n   ,\n   <extracted-citation case-ids=\"3674228\" index=\"68\" url=\"https://cite.case.law/us/553/880/#p892\">\n    128 S.Ct. 2161\n   </extracted-citation>\n   (quotation omitted);\n   <em>\n    see also\n   </em>\n   18 Wright et al.,\n   <em>\n    Federal Practice and Procedure\n   </em>\n   \u00a7 4409 (\"[C]laim preclusion often cannot apply in settings of continuing or interrupted and renewed conduct, and that the result may be burdensome repetitive litigation. To the extent that greater protection is needed, it is better to rely on issue preclusion than on efforts to draw into claim preclusion matters that could not reasonably be advanced in the first litigation.\"). Here we do not deal with an issue that was decided, but rather with claims that could have been brought.\n  </p>\n  <p id=\"p-60\">\n   <strong>\n    B\n   </strong>\n  </p>\n  <p id=\"p-61\">\n   MRT's DMCA claim arises under Title 17 of the United States Code and therefore is subject to the same statute of limitations as MRT's copyright infringement claims.\n   <em>\n    See\n   </em>\n   <extracted-citation index=\"69\" url=\"https://cite.case.law/citations/?q=17%20U.S.C.%20%C2%A7%20507\">\n    17 U.S.C. \u00a7\u00a7 507\n   </extracted-citation>\n   (b), 1201(a)(1)(A). The statute of limitations began to run when MRT learned, or reasonably should have learned, of Microsoft's alleged violation of the DMCA.\n   <em>\n    See\n   </em>\n   <em>\n    Kling v. Hallmark Cards, Inc.\n   </em>\n   ,\n   <extracted-citation case-ids=\"11234580\" index=\"70\" url=\"https://cite.case.law/f3d/225/1030/#p1038\">\n    225 F.3d 1030\n   </extracted-citation>\n   , 1038 (9th Cir. 2000) (Copyright Act statute of limitations begins to run \"when one has knowledge of a violation or is chargeable with such knowledge\" (quoting\n   <em>\n    Roley v. New World Pictures, Ltd.\n   </em>\n   ,\n   <extracted-citation case-ids=\"10507746\" index=\"71\" url=\"https://cite.case.law/f3d/19/479/#p481\">\n    19 F.3d 479\n   </extracted-citation>\n   , 481 (9th Cir. 1994) )).\n  </p>\n  <p id=\"p-62\">\n   MRT's DMCA claim alleges that Microsoft copied the MRT Software by circumventing measures in the MRT Software designed to prevent copying. Because MRT's DMCA claim is predicated on the same events as MRT's pre-filing copyright infringement claims-Microsoft's alleged copying of the MRT Software-we hold, for the reasons given in Section IV.A, that MRT's DMCA claim accrued before MRT\n  </p>\n  <p id=\"p-63\">\n   filed\n   <em>\n    MRT I\n   </em>\n   . Unlike MRT's copyright claims, there is no parallel separate-accrual rule that applies to MRT's DMCA claim. MRT's DMCA claim is therefore entirely precluded if the other requirements of claim preclusion are met,\n   <em>\n    Howard\n   </em>\n   ,\n   <extracted-citation case-ids=\"12266216\" index=\"72\" url=\"https://cite.case.law/f3d/871/1032/\">\n    871 F.3d at 1039-40\n   </extracted-citation>\n   , a point we discuss below in Section V.B.\n  </p>\n  <p id=\"p-64\">\n   <strong>\n    C\n   </strong>\n  </p>\n  <p id=\"p-65\">\n   California law determines when MRT's breach of contract claims accrued.\n   <em>\n    See\n   </em>\n   <em>\n    United Mine Workers v. Gibbs\n   </em>\n   ,\n   <extracted-citation case-ids=\"6175285\" index=\"73\" url=\"https://cite.case.law/us/383/715/#p726\">\n    383 U.S. 715\n   </extracted-citation>\n   , 726,\n   <extracted-citation case-ids=\"6175285\" index=\"74\" url=\"https://cite.case.law/us/383/715/#p726\">\n    86 S.Ct. 1130\n   </extracted-citation>\n   ,\n   <extracted-citation case-ids=\"6175285\" index=\"75\" url=\"https://cite.case.law/us/383/715/#p726\">\n    16 L.Ed.2d 218\n   </extracted-citation>\n   (1966) (a federal court when exercising supplemental jurisdiction over a state law claim applies state law in the same manner it would if sitting in diversity);\n   <em>\n    Nw. Airlines, Inc. v. Camacho\n   </em>\n   ,\n   <extracted-citation case-ids=\"9405241\" index=\"76\" url=\"https://cite.case.law/f3d/296/787/\">\n    296 F.3d 787\n   </extracted-citation>\n   , 789 n.1 (9th Cir. 2002) (federal courts exercising diversity jurisdiction apply the statute of limitations of the forum jurisdiction). Under California law, a cause of action sounding in contract does not accrue \"until the plaintiff discovers, or has reason to discover, the cause of action.\"\n   <em>\n    Wind Dancer Prod. Grp. v. Walt Disney Pictures\n   </em>\n   ,\n   <extracted-citation case-ids=\"12451314\" index=\"77\" url=\"https://cite.case.law/cal-app-5th/10/56/#p73\">\n    10 Cal. App. 5th 56\n   </extracted-citation>\n   , 73,\n   <extracted-citation index=\"78\" url=\"https://cite.case.law/citations/?q=215%20Cal.%20Rptr.%203d%20835\">\n    215 Cal.Rptr.3d 835\n   </extracted-citation>\n   (2017) (quoting\n   <em>\n    Fox v. Ethicon Endo-Surgery, Inc.\n   </em>\n   ,\n   <extracted-citation case-ids=\"873186\" index=\"79\" url=\"https://cite.case.law/cal-4th/35/797/#p807\">\n    35 Cal. 4th 797\n   </extracted-citation>\n   , 807,\n   <extracted-citation index=\"80\" url=\"https://cite.case.law/citations/?q=27%20Cal.%20Rptr.%203d%20661\">\n    27 Cal.Rptr.3d 661\n   </extracted-citation>\n   ,\n   <extracted-citation index=\"81\" url=\"https://cite.case.law/citations/?q=110%20P.3d%20914\">\n    110 P.3d 914\n   </extracted-citation>\n   (2005) ).\n  </p>\n  <p id=\"p-66\">\n   MRT's breach of contract claims allege that Microsoft breached anti-reverse-engineering provisions in the 2004 NDA and MRT's EULA when it allegedly copied the MRT Software. Because MRT's breach of contract claims are predicated on the same events as its pre-filing copyright infringement and DMCA claims, we hold again, for the reasons given in Section IV.A, that MRT's breach of contract claims accrued before MRT filed\n   <em>\n    MRT I\n   </em>\n   . MRT's breach of contract claims are precluded if the other requirements of claim preclusion are met,\n   <em>\n    Howard\n   </em>\n   ,\n   <extracted-citation case-ids=\"12266216\" index=\"82\" url=\"https://cite.case.law/f3d/871/1032/\">\n    871 F.3d at 1039-40\n   </extracted-citation>\n   , a point we discuss below in Section V.C.\n  </p>\n  <p id=\"p-67\">\n   <strong>\n    V\n   </strong>\n  </p>\n  <p id=\"p-68\">\n   Having concluded that MRT's post-filing copyright infringement claims are not precluded, we turn now to address the second point of contention between the parties: whether the pre-filing copyright infringement, DMCA, and breach of contract claims involve \"the same 'claim' or cause of action\" as the patent infringement claims in\n   <em>\n    MRT I\n   </em>\n   .\n   <em>\n    Mpoyo\n   </em>\n   ,\n   <extracted-citation case-ids=\"1594157\" index=\"83\" url=\"https://cite.case.law/f3d/430/985/#p987\">\n    430 F.3d at 987\n   </extracted-citation>\n   (quoting\n   <em>\n    Sidhu\n   </em>\n   ,\n   <extracted-citation case-ids=\"9397888\" index=\"84\" url=\"https://cite.case.law/f3d/279/896/#p900\">\n    279 F.3d at\n   </extracted-citation>\n   900 ). We consider \"(1) whether the two suits arise out of the same transactional nucleus of facts; (2) whether rights or interests established in the prior judgment would be destroyed or impaired by prosecution of the second action; (3) whether the two suits involve infringement of the same right; and (4) whether substantially the same evidence is presented in the two actions.\"\n   <em>\n    <extracted-citation case-ids=\"9397888\" index=\"85\" url=\"https://cite.case.law/f3d/279/896/#p900\">\n     Id.\n    </extracted-citation>\n   </em>\n   at 987 (citing\n   <em>\n    Chao v. A-One Med. Servs., Inc.\n   </em>\n   ,\n   <extracted-citation case-ids=\"9094918\" index=\"86\" url=\"https://cite.case.law/f3d/346/908/#p921\">\n    346 F.3d 908\n   </extracted-citation>\n   , 921 (9th Cir. 2003) ). We do not apply these criteria \"mechanistically.\"\n   <em>\n    <extracted-citation case-ids=\"9094918\" index=\"87\" url=\"https://cite.case.law/f3d/346/908/#p921\">\n     Id.\n    </extracted-citation>\n   </em>\n   <footnotemark>\n    10\n   </footnotemark>\n  </p>\n  <p id=\"p-69\">\n   <strong>\n    A\n   </strong>\n  </p>\n  <p id=\"p-70\">\n   We first hold that claim preclusion bars MRT's pre-filing copyright infringement claims.\n  </p>\n  <p id=\"p-71\">\n   With respect to the common-nucleus criterion, we use a \"transaction test to determine whether ... two suits share a common nucleus of operative fact.\"\n   <em>\n    Mpoyo\n   </em>\n   ,\n   <extracted-citation case-ids=\"1594157\" index=\"88\" url=\"https://cite.case.law/f3d/430/985/#p987\">\n    430 F.3d at\n   </extracted-citation>\n   987 (citing\n   <em>\n    Int'l Union of Operating Eng'rs-Empl'rs Constr. Indus. Pension, Welfare &amp; Training Tr. Funds v. Karr\n   </em>\n   ,\n   <extracted-citation case-ids=\"10518251\" index=\"89\" url=\"https://cite.case.law/f2d/994/1426/#p1429\">\n    994 F.2d 1426\n   </extracted-citation>\n   , 1429-30 (9th Cir. 1993) ). \"Whether two events are part of the same transaction or series depends on whether they are related to the same set of facts and whether they could conveniently be tried together.\"\n   <em>\n    <extracted-citation case-ids=\"10518251\" index=\"90\" url=\"https://cite.case.law/f2d/994/1426/#p1429\">\n     Id.\n    </extracted-citation>\n   </em>\n   (quoting\n   <em>\n    Western Sys., Inc. v. Ulloa\n   </em>\n   ,\n   <extracted-citation case-ids=\"10521575\" index=\"91\" url=\"https://cite.case.law/f2d/958/864/#p871\">\n    958 F.2d 864\n   </extracted-citation>\n   , 871 (9th Cir. 1992) );\n   <em>\n    see also\n   </em>\n   Restatement (Second) of Judgments \u00a7 24 (1982) (\"What factual grouping constitutes a 'transaction', and what groupings constitute a 'series', are to be determined pragmatically, giving weight to such considerations as whether the facts are related in time, space, origin, or motivation, whether they form a convenient trial unit, and whether their treatment as a unit conforms to the parties' expectations or business understanding or usage.\").\n  </p>\n  <p id=\"p-72\">\n   We are most concerned with the facts or events from which the alleged harms arose.\n   <em>\n    See, e.g.\n   </em>\n   ,\n   <em>\n    United States v. Liquidators of Eur. Fed. Credit Bank\n   </em>\n   ,\n   <extracted-citation case-ids=\"6052356\" index=\"92\" url=\"https://cite.case.law/f3d/630/1139/#p1151\">\n    630 F.3d 1139\n   </extracted-citation>\n   , 1151 (9th Cir. 2011) (common nucleus of facts between civil and criminal forfeiture actions because both arose from \"Defendant's criminal conduct\");\n   <em>\n    Mpoyo\n   </em>\n   ,\n   <extracted-citation case-ids=\"1594157\" index=\"93\" url=\"https://cite.case.law/f3d/430/985/#p987\">\n    430 F.3d at 987\n   </extracted-citation>\n   (common nucleus of facts between Title VII, FLSA, and FMLA claims because those \"claims ar[o]se from Litton's conduct while Mpoyo was an employee and specifically from the events leading to his termination.... Furthermore, the Title VII, FLSA and FMLA claims form a convenient trial unit that discloses a cohesive narrative of an employee-employer relationship and a controversial termination.\");\n   <em>\n    Owens\n   </em>\n   ,\n   <extracted-citation case-ids=\"11120106\" index=\"94\" url=\"https://cite.case.law/f3d/244/708/#p713\">\n    244 F.3d at 714\n   </extracted-citation>\n   (common nucleus of facts between breach of contract and Title VII claims because they were \"predicated on racial discrimination and allege the same circumstances regarding Appellants' terminations\");\n   <em>\n    see also\n   </em>\n   18 Wright et al.,\n   <em>\n    Federal Practice and Procedure\n   </em>\n   \u00a7 4407 (\"Matters with a common historic origin ordinarily form a convenient package for joint litigation.\"); Restatement (Second) of Judgments \u00a7 24 cmt. b (\"Among the factors relevant to a determination whether the facts are so woven together as to constitute a single claim are their relatedness in time, space, origin, or motivation, and whether, taken together, they form a convenient unit for trial purposes.\"). \"If the harm[s] arose at the same time, then there was no reason why the plaintiff could not have brought [both] claim[s] in the first action. The plaintiff simply could have added a claim to the complaint.\"\n   <em>\n    Howard\n   </em>\n   ,\n   <extracted-citation case-ids=\"12266216\" index=\"95\" url=\"https://cite.case.law/f3d/871/1032/\">\n    871 F.3d at 1039\n   </extracted-citation>\n   (quoting\n   <em>\n    Liquidators of Eur. Fed. Credit Bank\n   </em>\n   ,\n   <extracted-citation case-ids=\"6052356\" index=\"96\" url=\"https://cite.case.law/f3d/630/1139/#p1151\">\n    630 F.3d at\n   </extracted-citation>\n   1151 ). In contrast, \"[i]f the harm[s] arose from different facts,\" then a party is not obligated to bring both claims on pain of preclusion.\n   <em>\n    <extracted-citation case-ids=\"6052356\" index=\"97\" url=\"https://cite.case.law/f3d/630/1139/#p1151\">\n     Id.\n    </extracted-citation>\n   </em>\n   <footnotemark>\n    11\n   </footnotemark>\n  </p>\n  <p id=\"p-73\">\n   The common-nucleus criterion favors preclusion here. In\n   <em>\n    MRT I\n   </em>\n   , MRT alleged that it \"had detailed discussions with Microsoft about its technology\" in 2004 and made its \"technology available to Microsoft for review and analysis.\" MRT alleged that \"Microsoft used the information it learned from MRT, including information relating to the Controlled Data Pathway technology, to build what Microsoft refers to as the 'Protected Media Path' technology and architecture,\" which Microsoft then incorporated into various\n   products. MRT concluded that Microsoft products with the PMP software infringed four CDP Patents.\n  </p>\n  <p id=\"p-74\">\n   Here, MRT alleges that, sometime in 2003 or 2004, \"Microsoft learned that MRT was looking for investors and became interested in acquiring a majority interest in MRT in order to get control over the X1RC software so that it would have an effective Digital Rights Management system that would protect against Content Piracy and streamripping in particular.\" In connection with a possible investment, MRT gave information concerning its CDP technology to Microsoft, including the CDP Patents, and provided Microsoft access to MRT technology. The parties also entered an NDA prohibiting, among other things, reverse-engineering. Microsoft began testing its PMP software in September 2005. That software allegedly \"contains a copy and/or derivative work of the MRT software,\" as evidenced by the presence of the Watermark. Because MRT never provided Microsoft access to the source code for its software, MRT alleges that Microsoft must have reverse engineered the MRT Software's source code. Microsoft incorporated its PMP software into various products over the years. MRT concludes that Microsoft products with the PMP software infringe MRT's copyrights.\n  </p>\n  <p id=\"p-75\">\n   Comparing the two complaints, although the legal theories differ and the complaint here is more detailed, the factual basis for MRT's patent infringement claims in\n   <em>\n    MRT I\n   </em>\n   and its pre-filing copyright infringement claims here is the same: after discussions between MRT and Microsoft in 2004, Microsoft wrongfully took what it learned from MRT and created its PMP software. Microsoft then incorporated that software into various products, giving rise to claims of patent and copyright infringement. That the two actions \"relate to the same set of facts\" favors preclusion.\n   <em>\n    Mpoyo\n   </em>\n   ,\n   <extracted-citation case-ids=\"1594157\" index=\"98\" url=\"https://cite.case.law/f3d/430/985/#p987\">\n    430 F.3d at 987\n   </extracted-citation>\n   .\n  </p>\n  <p id=\"p-76\">\n   Moreover, MRT's patent infringement and copyright infringement claims \"form a convenient trial unit that discloses a cohesive narrative\" of how Microsoft allegedly misappropriated MRT's technology.\n   <em>\n    Mpoyo\n   </em>\n   ,\n   <extracted-citation case-ids=\"1594157\" index=\"99\" url=\"https://cite.case.law/f3d/430/985/#p987\">\n    430 F.3d at 987\n   </extracted-citation>\n   . Indeed, patent infringement and copyright infringement claims are often tried together, including in large, complex cases.\n   <em>\n    See, e.g.\n   </em>\n   ,\n   <em>\n    Oracle Am., Inc. v. Google Inc.\n   </em>\n   ,\n   <extracted-citation case-ids=\"4066790\" index=\"100\" url=\"https://cite.case.law/f3d/750/1339/#p1347\">\n    750 F.3d 1339\n   </extracted-citation>\n   , 1347-48 (Fed. Cir. 2014) ;\n   <em>\n    Bowers v.Baystate Techs., Inc.\n   </em>\n   ,\n   <extracted-citation case-ids=\"9331859\" index=\"101\" url=\"https://cite.case.law/f3d/320/1317/#p1320\">\n    320 F.3d 1317\n   </extracted-citation>\n   , 1320-22 (Fed. Cir. 2003).\n   <em>\n    But see, e.g.\n   </em>\n   ,\n   <em>\n    Conceivex, Inc. v. Rinovum Women's Health, Inc.\n   </em>\n   , No. 16-11810,\n   <extracted-citation index=\"102\" url=\"https://cite.case.law/citations/?q=2017%20WL%203484499\">\n    2017 WL 3484499\n   </extracted-citation>\n   , at *6-8 (E.D. Mich. Aug. 15, 2017). That the two suits \"could conveniently be tried together\" likewise favors preclusion.\n   <em>\n    Mpoyo\n   </em>\n   ,\n   <extracted-citation case-ids=\"1594157\" index=\"103\" url=\"https://cite.case.law/f3d/430/985/#p987\">\n    430 F.3d at 987\n   </extracted-citation>\n   .\n  </p>\n  <p id=\"p-77\">\n   As we have explained in prior decisions, the common-nucleus criterion is the \"most important\" of the criteria we consider.\n   <em>\n    Harris\n   </em>\n   ,\n   <extracted-citation case-ids=\"3891442\" index=\"104\" url=\"https://cite.case.law/f3d/682/1126/#p1131\">\n    682 F.3d at\n   </extracted-citation>\n   1132 ;\n   <em>\n    see also\n   </em>\n   <em>\n    Sidney v. Zah\n   </em>\n   ,\n   <extracted-citation case-ids=\"1894732\" index=\"105\" url=\"https://cite.case.law/f2d/718/1453/#p1459\">\n    718 F.2d 1453\n   </extracted-citation>\n   , 1459 (9th Cir. 1983) (explaining that whether claims \"arise out of the same transactional nucleus of facts [is] the criteria most stressed in our decisions\" (quotation omitted)). We have repeatedly found it to be outcome determinative.\n   <em>\n    See, e.g.\n   </em>\n   ,\n   <em>\n    Liquidators of Eur. Fed. Credit Bank\n   </em>\n   ,\n   <extracted-citation case-ids=\"6052356\" index=\"106\" url=\"https://cite.case.law/f3d/630/1139/#p1151\">\n    630 F.3d at 1151-53\n   </extracted-citation>\n   (applying claim preclusion based on the common-nucleus criterion only);\n   <em>\n    Mpoyo\n   </em>\n   ,\n   <extracted-citation case-ids=\"1594157\" index=\"107\" url=\"https://cite.case.law/f3d/430/985/#p987\">\n    430 F.3d at 988\n   </extracted-citation>\n   (\"While examination of the latter three criteria does not yield a clear outcome,\n   <em>\n    Mpoyo I\n   </em>\n   and\n   <em>\n    Mpoyo II\n   </em>\n   clearly share a common nucleus of operative fact under the first criterion. The first criterion controls and assures the two suits involve the same claim or cause of action.\");\n   <em>\n    Owens\n   </em>\n   ,\n   <extracted-citation case-ids=\"11120106\" index=\"108\" url=\"https://cite.case.law/f3d/244/708/#p713\">\n    244 F.3d at 714\n   </extracted-citation>\n   (applying claim preclusion without considering criteria other than the common-nucleus criterion);\n   <em>\n    In re Imperial Corp. of Am.\n   </em>\n   ,\n   <extracted-citation case-ids=\"7638531\" index=\"109\" url=\"https://cite.case.law/f3d/92/1503/#p1508\">\n    92 F.3d 1503\n   </extracted-citation>\n   , 1508-09 (9th Cir. 1996) (same);\n  </p>\n  <p id=\"p-78\">\n   <em>\n    C.D. Anderson &amp; Co. v. Lemos\n   </em>\n   ,\n   <extracted-citation case-ids=\"10549948\" index=\"110\" url=\"https://cite.case.law/f2d/832/1097/#p1100\">\n    832 F.2d 1097\n   </extracted-citation>\n   , 1100 (9th Cir. 1987) (same).\n   <footnotemark>\n    12\n   </footnotemark>\n  </p>\n  <p id=\"p-79\">\n   We find the common-nucleus criterion to be outcome determinative here as well. For that reason, we do not consider the other criteria, with one exception. We reject MRT's categorical contention that patent and copyright suits cannot \"involve infringement of the same right,\"\n   <em>\n    Mpoyo\n   </em>\n   ,\n   <extracted-citation case-ids=\"1594157\" index=\"111\" url=\"https://cite.case.law/f3d/430/985/#p987\">\n    430 F.3d at 987\n   </extracted-citation>\n   (quoting\n   <em>\n    Sidhu\n   </em>\n   ,\n   <extracted-citation case-ids=\"9397888\" index=\"112\" url=\"https://cite.case.law/f3d/279/896/#p900\">\n    279 F.3d at\n   </extracted-citation>\n   900 ), because patents and copyrights protect \"distinct rights that give rise to distinct claims.\"\n  </p>\n  <p id=\"p-80\">\n   MRT's CDP Patents provide it the right, among other rights, to determine who, if anyone, can use and sell its patented methods-\n   <em>\n    i.e.\n   </em>\n   , its CDP technology.\n   <extracted-citation index=\"113\" url=\"https://cite.case.law/citations/?q=35%20U.S.C.%20%C2%A7%20154\">\n    35 U.S.C. \u00a7 154\n   </extracted-citation>\n   (a)(1). MRT sought to protect that right in\n   <em>\n    MRT I\n   </em>\n   .\n  </p>\n  <p id=\"p-81\">\n   One way to implement MRT's patented methods, as MRT has done and Microsoft has allegedly done, is through software. The MRT Software at issue here is an allegedly expressive implementation of MRT's CDP technology. Because the MRT Software is allegedly expressive, it is allegedly copyrightable.\n   <extracted-citation index=\"114\" url=\"https://cite.case.law/citations/?q=17%20U.S.C.%20%C2%A7%20102\">\n    17 U.S.C. \u00a7 102\n   </extracted-citation>\n   (a). MRT's copyrights, in turn, provide MRT the exclusive right to reproduce, prepare derivative works of, and distribute copies of the MRT Software.\n   <extracted-citation index=\"115\" url=\"https://cite.case.law/citations/?q=17%20U.S.C.%20%C2%A7%20106\">\n    17 U.S.C. \u00a7 106\n   </extracted-citation>\n   .\n  </p>\n  <p id=\"p-82\">\n   The MRT copyrights at issue, then, are protecting a right that was at issue in\n   <em>\n    MRT I\n   </em>\n   : MRT's exclusive right to use and sell a particular implementation of its CDP technology. In other words,\n   <em>\n    MRT I\n   </em>\n   concerned whether Microsoft was improperly using and selling MRT's patented processes, its CDP technology. This case concerns whether Microsoft is improperly using a particular, allegedly expressive, implementation of those processes. Because this action concerns a right that was already at issue in\n   <em>\n    MRT I\n   </em>\n   , preclusion is favored.\n   <footnotemark>\n    13\n   </footnotemark>\n  </p>\n  <p id=\"p-83\">\n   We also reject MRT's contention that we will create an inter-circuit and intra-circuit split by applying claim preclusion here. This is not so.\n  </p>\n  <p id=\"p-84\">\n   In\n   <em>\n    Superior Industries, LLC v. Thor Global Enterprises Ltd.\n   </em>\n   , a divided panel of the Federal Circuit-applying Eighth Circuit law-held that a prior suit concerning trademark infringement did not preclude a subsequent suit concerning patent infringement.\n   <extracted-citation case-ids=\"3637141\" index=\"116\" url=\"https://cite.case.law/f3d/700/1287/#p1293\">\n    700 F.3d 1287\n   </extracted-citation>\n   , 1293-95 (Fed. Cir. 2012). It reasoned that the two suits arose from \"clearly separate transactions.\"\n   <em>\n    <extracted-citation case-ids=\"3637141\" index=\"117\" url=\"https://cite.case.law/f3d/700/1287/#p1293\">\n     Id.\n    </extracted-citation>\n   </em>\n   <extracted-citation case-ids=\"3637141\" index=\"117\" url=\"https://cite.case.law/f3d/700/1287/#p1293\">\n    at 1293\n   </extracted-citation>\n   . \"Superior's trademark claims arose from Thor's use of the FB mark in advertising-not from actual sales or offers for sale of the Thor Undercarriage Technology in the United States,\" while \"Superior's patent infringement claim arises from sales, offers to sell, or importation of goods that allegedly infringe the '101 Patent-not from the advertising\n   or use of the FB mark at issue in the 2009 Trademark Action.\"\n   <em>\n    <extracted-citation case-ids=\"3637141\" index=\"118\" url=\"https://cite.case.law/f3d/700/1287/#p1293\">\n     Id.\n    </extracted-citation>\n   </em>\n   <extracted-citation case-ids=\"3637141\" index=\"118\" url=\"https://cite.case.law/f3d/700/1287/#p1293\">\n    at 1294\n   </extracted-citation>\n   . Here, in contrast, MRT's pre-filing copyright infringement claims arise from the same transaction as its patent infringement claims: Microsoft's alleged misappropriation of MRT's CDP technology.\n   <em>\n    Superior Industries\n   </em>\n   is inapposite.\n  </p>\n  <p id=\"p-85\">\n   In\n   <em>\n    Harris v. Jacobs\n   </em>\n   , an Oregon-state prisoner brought suit in federal court alleging that Oregon denied him constitutionally adequate medical care-in violation of the Eighth Amendment-and that the state denied him a state-law right to obtain nonprison medical care at his own expense, in violation of the Due Process Clause of the Fourteenth Amendment.\n   <extracted-citation case-ids=\"482400\" index=\"119\" url=\"https://cite.case.law/f2d/621/341/#p342\">\n    621 F.2d 341\n   </extracted-citation>\n   , 342 (9th Cir. 1980) (per curiam). While his federal suit was pending, the plaintiff also sought a writ of habeas corpus in state court, asserting his Eighth Amendment claim.\n   <em>\n    <extracted-citation case-ids=\"482400\" index=\"120\" url=\"https://cite.case.law/f2d/621/341/#p342\">\n     Id.\n    </extracted-citation>\n   </em>\n   The state court held that the prison provided constitutionally adequate medical care and denied plaintiff's petition.\n   <em>\n    <extracted-citation case-ids=\"482400\" index=\"121\" url=\"https://cite.case.law/f2d/621/341/#p342\">\n     Id.\n    </extracted-citation>\n   </em>\n   We held that claim preclusion barred the plaintiff's Eighth Amendment claim but not his Fourteenth Amendment claim in his federal suit.\n   <em>\n    <extracted-citation case-ids=\"482400\" index=\"122\" url=\"https://cite.case.law/f2d/621/341/#p342\">\n     Id.\n    </extracted-citation>\n   </em>\n   <extracted-citation case-ids=\"482400\" index=\"122\" url=\"https://cite.case.law/f2d/621/341/#p342\">\n    at 342-44\n   </extracted-citation>\n   . We reasoned that the claims arose from different facts: the Eighth Amendment claim derived from medical care actually provided to the plaintiff while the Fourteenth Amendment claim derived from the state's separate decision not to allow the plaintiff to obtain nonprison care.\n   <em>\n    <extracted-citation case-ids=\"482400\" index=\"123\" url=\"https://cite.case.law/f2d/621/341/#p342\">\n     Id.\n    </extracted-citation>\n   </em>\n   Here, in contrast, the same events gave rise to MRT's patent infringement and pre-filing copyright infringement claims.\n  </p>\n  <p id=\"p-86\">\n   In\n   <em>\n    Hells Canyon Preservation Council v. U.S. Forest Service\n   </em>\n   , the first suit alleged that the Forest Service violated the National Environment Policy Act by deciding to relocate a vehicular trail without first filing an environmental impact statement.\n   <extracted-citation case-ids=\"9017395\" index=\"124\" url=\"https://cite.case.law/f3d/403/683/#p690\">\n    403 F.3d 683\n   </extracted-citation>\n   , 690 (9th Cir. 2005). That is, the first suit arose from events that predated the Forest Service moving the trail. The second suit arose \"out of [the plaintiff's] assertion that parts of the trail\" remained in a prohibited area \"\n   <em>\n    after\n   </em>\n   the relocation.\"\n   <em>\n    <extracted-citation case-ids=\"9017395\" index=\"125\" url=\"https://cite.case.law/f3d/403/683/#p690\">\n     Id.\n    </extracted-citation>\n   </em>\n   <extracted-citation case-ids=\"9017395\" index=\"125\" url=\"https://cite.case.law/f3d/403/683/#p690\">\n    at 690-91\n   </extracted-citation>\n   . Because the two suits arose from temporally distinct transactions, we held that claim preclusion did not apply.\n   <em>\n    <extracted-citation case-ids=\"9017395\" index=\"126\" url=\"https://cite.case.law/f3d/403/683/#p690\">\n     Id.\n    </extracted-citation>\n   </em>\n   But here, again, the patent infringement and pre-filing copyright infringement claims arise out of the same transaction: Microsoft allegedly misappropriated MRT's CDP technology, giving rise to claims of patent and copyright infringement. This case is distinct from\n   <em>\n    Hells Canyon\n   </em>\n   , just as it is from\n   <em>\n    Superior Industries\n   </em>\n   and\n   <em>\n    Harris\n   </em>\n   . Our holding that claim preclusion bars the pre-filing copyright infringement claims creates neither an inter-circuit nor an intra-circuit split.\n  </p>\n  <p id=\"p-87\">\n   Finally, we note that we do not hold that copyright infringement and patent infringement claims will always be preclusive as to one another. Courts must analyze each case on the particular facts to determine if claim preclusion applies.\n  </p>\n  <p id=\"p-88\">\n   <strong>\n    B\n   </strong>\n  </p>\n  <p id=\"p-89\">\n   Turning to MRT's DMCA claim, that claim alleges that Microsoft circumvented measures in the MRT Software designed to protect it from unlawful copying, violating\n   <extracted-citation index=\"127\" url=\"https://cite.case.law/citations/?q=17%20U.S.C.%20%C2%A7%201201\">\n    17 U.S.C. \u00a7 1201\n   </extracted-citation>\n   (a)(1)(A), when it reverse engineered and copied the MRT Software. We hold that claim preclusion bars MRT's DMCA claim because the patent infringement claims in\n   <em>\n    MRT I\n   </em>\n   and the DMCA claim \"share a common nucleus of operative fact.\"\n   <em>\n    Mpoyo\n   </em>\n   ,\n   <extracted-citation case-ids=\"1594157\" index=\"128\" url=\"https://cite.case.law/f3d/430/985/#p987\">\n    430 F.3d at 987\n   </extracted-citation>\n   .\n   <footnotemark>\n    14\n   </footnotemark>\n   Both allege that Microsoft used information\n   gleaned from MRT to create its PMP software. The DMCA claim specifies that Microsoft did so by reverse engineering the MRT Software's source code, in violation of the DMCA.\n  </p>\n  <p id=\"p-90\">\n   <strong>\n    C\n   </strong>\n  </p>\n  <p id=\"p-91\">\n   Finally, we hold that claim preclusion also bars MRT's breach of contract claims. Those claims allege that Microsoft breached anti-reverse-engineering provisions in the 2004 NDA and MRT's EULA when it reverse engineered and copied the MRT Software. Because those claims are based on the same facts as MRT's DMCA claim, which we hold is precluded, we likewise hold that MRT's breach of contract claims are precluded.\n  </p>\n  <p id=\"p-92\">\n   <strong>\n    VI\n   </strong>\n  </p>\n  <p id=\"p-93\">\n   In summary, we hold that MRT's pre-filing copyright infringement, DMCA, and breach of contract claims are precluded, but MRT's post-filing copyright infringement claims are not. We accordingly\n   <strong>\n    AFFIRM\n   </strong>\n   in part and\n   <strong>\n    REVERSE\n   </strong>\n   and\n   <strong>\n    REMAND\n   </strong>\n   in part the district court's decision dismissing all of MRT's claims.\n  </p>\n  <p id=\"p-94\">\n   Each side shall bear its own costs on appeal.\n  </p>\n  <footnote label=\"1\">\n   <p id=\"p-98\">\n    What follows are the well-pleaded facts from MRT's complaint, which we accept as true at the motion-to-dismiss stage.\n    <em>\n     See\n    </em>\n    <em>\n     Garity v. APWU Nat'l Labor Org.\n    </em>\n    ,\n    <extracted-citation case-ids=\"4335739\" index=\"129\" url=\"https://cite.case.law/f3d/828/848/\">\n     828 F.3d 848\n    </extracted-citation>\n    , 851 n.1 (9th Cir. 2016) (citing\n    <em>\n     Bell Atl. Corp. v. Twombly\n    </em>\n    ,\n    <extracted-citation case-ids=\"3556136\" index=\"130\" url=\"https://cite.case.law/us/550/544/#p556\">\n     550 U.S. 544\n    </extracted-citation>\n    , 556,\n    <extracted-citation case-ids=\"3556136\" index=\"131\" url=\"https://cite.case.law/us/550/544/#p556\">\n     127 S.Ct. 1955\n    </extracted-citation>\n    ,\n    <extracted-citation case-ids=\"3556136\" index=\"132\" url=\"https://cite.case.law/us/550/544/#p556\">\n     167 L.Ed.2d 929\n    </extracted-citation>\n    (2007) ).\n   </p>\n  </footnote>\n  <footnote label=\"2\">\n   <p id=\"p-99\">\n    \"Source code\" is a \"specialized alphanumeric language[ ]\" written by a human programmer; it is a set of commands.\n    <em>\n     Sega Enters. Ltd. v. Accolade, Inc.\n    </em>\n    ,\n    <extracted-citation case-ids=\"10519250\" index=\"133\" url=\"https://cite.case.law/f2d/977/1510/\">\n     977 F.2d 1510\n    </extracted-citation>\n    , 1514 n.2 (9th Cir. 1992),\n    <em>\n     as amended\n    </em>\n    (Jan. 6, 1993).\n   </p>\n  </footnote>\n  <footnote label=\"3\">\n   <p id=\"p-100\">\n    \"Object code\" is code that has been \"translated into computer readable form\" by an \"assembler\" or \"compiler.\"\n    <em>\n     Sega Enters.\n    </em>\n    ,\n    <extracted-citation case-ids=\"10519250\" index=\"134\" url=\"https://cite.case.law/f2d/977/1510/\">\n     977 F.2d at\n    </extracted-citation>\n    1514 n.2. It is \"the end product of the compilation of the source program\" and \"is required for the program's execution by a computer.\"\n    <em>\n     Reiffin v. Microsoft Corp.\n    </em>\n    ,\n    <extracted-citation case-ids=\"9979201\" index=\"135\" url=\"https://cite.case.law/f3d/214/1342/#p1344\">\n     214 F.3d 1342\n    </extracted-citation>\n    , 1344 (Fed. Cir. 2000).\n   </p>\n  </footnote>\n  <footnote label=\"4\">\n   <p id=\"p-101\">\n    The parties also crossed paths at other points over the years. In 2006, MRT demonstrated its BlueBeat SeCure Player for Windows Media Player software to Microsoft and others members of the Digital Media Association. Microsoft had access to the software's object code as a result. In May 2012, Microsoft considered acquiring the CDP Patents from MRT. In connection with that transaction, MRT and Microsoft entered into a confidentiality agreement, and MRT gave Microsoft access to confidential and proprietary information. In the end, Microsoft opted not to purchase the patents.\n   </p>\n  </footnote>\n  <footnote label=\"5\">\n   <p id=\"p-102\">\n    The district court used the terms \"res judicata\" and \"claim preclusion\" interchangeably. Historically, courts have used the term \"res judicata\" to mean \"two different concepts.\"\n    <em>\n     Weaver Corp. v. Kidde, Inc.\n    </em>\n    ,\n    <extracted-citation case-ids=\"7396056\" index=\"136\" url=\"https://cite.case.law/f-supp/701/61/#p63\">\n     701 F.Supp. 61\n    </extracted-citation>\n    , 63-64 (S.D.N.Y. 1988). Some have \"use[d] it to mean claim preclusion,\" while others have used it \"in a general sense, to encompass both claim and issue preclusion.\"\n    <em>\n     <extracted-citation case-ids=\"7396056\" index=\"137\" url=\"https://cite.case.law/f-supp/701/61/#p63\">\n      Id.\n     </extracted-citation>\n    </em>\n    For clarity, we use the more descriptive terms of claim and issue preclusion.\n   </p>\n  </footnote>\n  <footnote label=\"6\">\n   <p id=\"p-103\">\n    Because the decision to be given preclusive effect was rendered by a federal court exercising federal-question jurisdiction, federal common law determines whether preclusion applies.\n    <em>\n     Taylor\n    </em>\n    ,\n    <extracted-citation case-ids=\"3674228\" index=\"138\" url=\"https://cite.case.law/us/553/880/#p892\">\n     553 U.S. at 891\n    </extracted-citation>\n    ,\n    <extracted-citation case-ids=\"3674228\" index=\"139\" url=\"https://cite.case.law/us/553/880/#p892\">\n     128 S.Ct. 2161\n    </extracted-citation>\n    .\n   </p>\n  </footnote>\n  <footnote label=\"7\">\n   <p id=\"p-104\">\n    Microsoft contends that MRT forfeited this argument by not raising it in the district court. We disagree. MRT raised a variation of the argument it now presses, and the district court considered and rejected that argument:\n   </p>\n   <blockquote id=\"p-105\">\n    MRT also argues that the settlement and dismissal with prejudice of the first action cannot bar claims based on conduct that occurred after the settlement. However, the conduct underlying this instant action occurred before the first action was filed. Although MRT alleges that it did not discover the alleged copying of the Watermark until April 12, 2014, after the first action was filed, this was more than two years before the first action was dismissed on April 21, 2016. (Dkt. 1, \u00b6 95; Dkt. 16, Ex. B.) Additionally, based on the facts MRT alleged in the first action and in this action, it is not clear why MRT did not investigate, and, thus, actually discover, the alleged copyright infringement earlier.\n   </blockquote>\n   <p id=\"p-106\">\n    <em>\n     Media Rights Techs. v. Microsoft Corp.\n    </em>\n    , Case No. 17-cv-01925-SK,\n    <extracted-citation index=\"140\" url=\"https://cite.case.law/citations/?q=2017%20WL%204685702\">\n     2017 WL 4685702\n    </extracted-citation>\n    , at *6 (N.D. Cal. July 20, 2017).\n   </p>\n  </footnote>\n  <footnote label=\"8\">\n   <p id=\"p-107\">\n    Although the language of some of these decisions could suggest that claim preclusion should bar claims that arose after the filing of the operative complaint in a prior action, but before the entry of judgment, to be clear, the rule in this circuit, and others, is that \"claim preclusion does not apply to claims that accrue after the filing of the operative complaint\" in the first suit.\n    <em>\n     Howard\n    </em>\n    ,\n    <extracted-citation case-ids=\"12266216\" index=\"141\" url=\"https://cite.case.law/f3d/871/1032/\">\n     871 F.3d at 1039-40\n    </extracted-citation>\n    (collecting cases).\n   </p>\n  </footnote>\n  <footnote label=\"9\">\n   <p id=\"p-108\">\n    MRT contends that \"[d]etection of copying of the MRT Software is extraordinarily difficult because Microsoft, like virtually every software vendor, protects the source code for its products as a trade secret.\" This contention ignores that MRT discovered the alleged copying when it finally looked at the\n    <em>\n     object code\n    </em>\n    (which is publicly available) because the Watermark was designed to be detectable in object code.\n   </p>\n  </footnote>\n  <footnote label=\"10\">\n   <p id=\"p-109\">\n    MRT cites\n    <em>\n     Hells Canyon Preservation Council v. U.S. Forest Service\n    </em>\n    ,\n    <extracted-citation case-ids=\"9017395\" index=\"142\" url=\"https://cite.case.law/f3d/403/683/#p690\">\n     403 F.3d 683\n    </extracted-citation>\n    , 686 n.2 (9th Cir. 2005), for the proposition that claim preclusion cannot apply to claims that were not but \"could have been brought in a prior proceeding.\" MRT is incorrect. In\n    <em>\n     Hells Canyon\n    </em>\n    we emphasized that claim preclusion does not apply to any and all \"cause[s] of action that could have been joined in the original action\"; it applies to claims and legal theories \"arising out of the same transactional nucleus of facts.\"\n    <em>\n     <extracted-citation case-ids=\"9017395\" index=\"143\" url=\"https://cite.case.law/f3d/403/683/#p690\">\n      Id.\n     </extracted-citation>\n    </em>\n   </p>\n  </footnote>\n  <footnote label=\"11\">\n   <p id=\"p-110\">\n    Our discussion to this point disposes of MRT's contention that what matters \"is whether or not the 'evidentiary facts underlying the claim' are the same, not whether certain historical facts in the case are the same.\" MRT relies on\n    <em>\n     Harris v. Jacobs\n    </em>\n    ,\n    <extracted-citation case-ids=\"482400\" index=\"144\" url=\"https://cite.case.law/f2d/621/341/#p342\">\n     621 F.2d 341\n    </extracted-citation>\n    , 344 (9th Cir. 1980), for that proposition, but\n    <em>\n     Harris\n    </em>\n    did not make the distinction MRT now draws. Nor do our other decisions draw a distinction between \"evidentiary facts\" and \"historical facts.\" What matters is the sequence of events from which the claims arose.\n   </p>\n  </footnote>\n  <footnote label=\"12\">\n   <p id=\"p-111\">\n    We are not alone in this regard. A number of our sister circuits analyze whether two claims are the \"same cause of action\" for purposes of claim preclusion using analyses similar to our common-nucleus criterion and without considering the other criteria we consider.\n    <em>\n     See, e.g.\n    </em>\n    ,\n    <em>\n     City of Eudora, Kan. v. Rural Water Dist. No. 4, Douglas Cty., Kan.\n    </em>\n    ,\n    <extracted-citation case-ids=\"12266582\" index=\"145\" url=\"https://cite.case.law/f3d/875/1030/#p1035\">\n     875 F.3d 1030\n    </extracted-citation>\n    , 1035 (10th Cir. 2017) ;\n    <em>\n     Duckett v. Fuller\n    </em>\n    ,\n    <extracted-citation case-ids=\"4252978\" index=\"146\" url=\"https://cite.case.law/f3d/819/740/#p744\">\n     819 F.3d 740\n    </extracted-citation>\n    , 744 (4th Cir. 2016) ;\n    <em>\n     Oreck Direct, LLC v. Dyson, Inc.\n    </em>\n    ,\n    <extracted-citation case-ids=\"3429777\" index=\"147\" url=\"https://cite.case.law/f3d/560/398/#p401\">\n     560 F.3d 398\n    </extracted-citation>\n    , 401-02 (5th Cir. 2009) ;\n    <em>\n     Pike v. Freeman\n    </em>\n    ,\n    <extracted-citation case-ids=\"9498004\" index=\"148\" url=\"https://cite.case.law/f3d/266/78/#p90\">\n     266 F.3d 78\n    </extracted-citation>\n    , 90-91 (2d Cir. 2001) (Sotomayor, J.);\n    <em>\n     Doe v. Allied-Signal, Inc.\n    </em>\n    ,\n    <extracted-citation case-ids=\"10516442\" index=\"149\" url=\"https://cite.case.law/f2d/985/908/#p913\">\n     985 F.2d 908\n    </extracted-citation>\n    , 913 (7th Cir. 1993).\n   </p>\n  </footnote>\n  <footnote label=\"13\">\n   <p id=\"p-112\">\n    Of course, one issue that may be present in a patent suit that is not in a copyright suit is the validity of a patent. However, this difference does not mean that patent and copyright suits necessarily involve different \"rights\" for preclusion purposes. That is because patent invalidity is an affirmative defense that must be proven by the party asserting invalidity.\n    <em>\n     See\n    </em>\n    <extracted-citation index=\"150\" url=\"https://cite.case.law/citations/?q=35%20U.S.C.%20%C2%A7%20282\">\n     35 U.S.C. \u00a7 282\n    </extracted-citation>\n    (a) ;\n    <em>\n     Commil USA, LLC v. Cisco Sys., Inc.\n    </em>\n    , --- U.S. ----,\n    <extracted-citation case-ids=\"12589868\" index=\"151\" url=\"https://cite.case.law/s-ct/135/1920/#p1929\">\n     135 S.Ct. 1920\n    </extracted-citation>\n    , 1929,\n    <extracted-citation case-ids=\"12589868\" index=\"152\" url=\"https://cite.case.law/s-ct/135/1920/#p1929\">\n     191 L.Ed.2d 883\n    </extracted-citation>\n    (2015). It therefore does not define the claims that a claimant brought or could have brought, which is the focus of the preclusion inquiry.\n   </p>\n  </footnote>\n  <footnote label=\"14\">\n   <p id=\"p-113\">\n    As before, we need not, and do not, consider the other criteria.\n    <em>\n     See, e.g.\n    </em>\n    ,\n    <em>\n     Liquidators of Eur. Fed. Credit Bank\n    </em>\n    ,\n    <extracted-citation case-ids=\"6052356\" index=\"153\" url=\"https://cite.case.law/f3d/630/1139/#p1151\">\n     630 F.3d at\n    </extracted-citation>\n    1151-53 ;\n    <em>\n     Mpoyo\n    </em>\n    ,\n    <extracted-citation case-ids=\"1594157\" index=\"154\" url=\"https://cite.case.law/f3d/430/985/#p987\">\n     430 F.3d at\n    </extracted-citation>\n    988 ;\n    <em>\n     Owens\n    </em>\n    ,\n    <extracted-citation case-ids=\"11120106\" index=\"155\" url=\"https://cite.case.law/f3d/244/708/#p713\">\n     244 F.3d at 714\n    </extracted-citation>\n    .\n   </p>\n  </footnote>\n </opinion>\n</casebody>\n"
  }
}